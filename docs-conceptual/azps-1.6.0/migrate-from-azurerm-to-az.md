---
title: Migrowanie skryptów programu Azure PowerShell z modułu AzureRM do modułu Az
description: Poznaj procedury i narzędzia dotyczące migracji skryptów z modułu AzureRM do nowego modułu Az.
author: sptramer
ms.author: sttramer
manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.date: 12/13/2018
ms.openlocfilehash: 28122ca953d62b405f19effbbc680f2dc6202cca
ms.sourcegitcommit: 8f59e11e5c991543964154d63648aa1e6ae22512
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/26/2019
ms.locfileid: "58475380"
---
# <a name="migrate-from-azurerm-to-azure-powershell-az"></a><span data-ttu-id="40346-103">Migrowanie z modułu AzureRM do modułu Az programu Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="40346-103">Migrate from AzureRM to Azure PowerShell Az</span></span>

<span data-ttu-id="40346-104">Moduł Az zapewnia równoważność funkcji z modułem AzureRM, jednak używa krótszych i bardziej spójnych nazw poleceń cmdlet.</span><span class="sxs-lookup"><span data-stu-id="40346-104">The Az module has feature parity with AzureRM, but uses shorter and more consistent cmdlet names.</span></span>
<span data-ttu-id="40346-105">Skrypty napisane dla poleceń cmdlet modułu AzureRM nie będą automatycznie działać z nowym modułem.</span><span class="sxs-lookup"><span data-stu-id="40346-105">Scripts written for the AzureRM cmdlets won't automatically work with the new module.</span></span> <span data-ttu-id="40346-106">Aby ułatwić przejście, moduł Az oferuje narzędzia umożliwiające uruchamianie istniejących skryptów przy użyciu modułu AzureRM.</span><span class="sxs-lookup"><span data-stu-id="40346-106">To make the transition easier, Az offers tools to allow you to run your existing scripts using AzureRM.</span></span> <span data-ttu-id="40346-107">Każda migracja do nowego zestawu poleceń jest kłopotliwa, jednak ten artykuł pomoże Ci rozpocząć przejście do nowego modułu.</span><span class="sxs-lookup"><span data-stu-id="40346-107">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the new module.</span></span>

<span data-ttu-id="40346-108">Aby wyświetlić pełną listę zmian powodujących niezgodność między modułami AzureRM i Az, zobacz [Przewodnik migracji modułu Az 1.0.0](migrate-az-1.0.0.md)</span><span class="sxs-lookup"><span data-stu-id="40346-108">To see the full list of breaking changes between AzureRM and Az, see the [Migration guide for Az 1.0.0](migrate-az-1.0.0.md)</span></span>

## <a name="check-for-installed-versions-of-azurerm"></a><span data-ttu-id="40346-109">Sprawdzanie pod kątem zainstalowanych wersji modułu AzureRM</span><span class="sxs-lookup"><span data-stu-id="40346-109">Check for installed versions of AzureRM</span></span>

<span data-ttu-id="40346-110">Moduły Az i AzureRM mogą być zainstalowane obok siebie, ale nie jest to zalecane.</span><span class="sxs-lookup"><span data-stu-id="40346-110">The Az module can be installed side-by-side with the AzureRM module, but this is not recommended.</span></span> <span data-ttu-id="40346-111">Przed wykonaniem jakichkolwiek kroków związanych z migracją sprawdź, które wersje modułu AzureRM są zainstalowane w systemie.</span><span class="sxs-lookup"><span data-stu-id="40346-111">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span> <span data-ttu-id="40346-112">Dzięki temu możesz się upewnić, że skrypty są już uruchamiane w najnowszej wersji, i dowiedzieć, czy możesz włączyć aliasy poleceń bez odinstalowywania modułu AzureRM.</span><span class="sxs-lookup"><span data-stu-id="40346-112">Doing so allows you to make sure scripts are already running on the latest release, and let you know if you can enable command aliases without uninstalling AzureRM.</span></span>

<span data-ttu-id="40346-113">Aby sprawdzić, które wersje modułu AzureRM są zainstalowane, uruchom polecenie:</span><span class="sxs-lookup"><span data-stu-id="40346-113">To check which version(s) of AzureRM you have installed, run the command:</span></span>

```powershell-interactive
Get-InstalledModule -Name AzureRM -AllVersions
```

## <a name="ensure-your-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="40346-114">Upewnianie się, że istniejące skrypty działają z najnowszą wersją modułu AzureRM</span><span class="sxs-lookup"><span data-stu-id="40346-114">Ensure your existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="40346-115">To jest najważniejszy krok!</span><span class="sxs-lookup"><span data-stu-id="40346-115">This is the most important step!</span></span> <span data-ttu-id="40346-116">Uruchom istniejące skrypty i upewnij się, że działają one z _najnowszą_ wersją modułu AzureRM (__6.13.1__).</span><span class="sxs-lookup"><span data-stu-id="40346-116">Run your existing scripts, and make sure that they work with the _latest_ release of AzureRM (__6.13.1__).</span></span> <span data-ttu-id="40346-117">Jeśli Twoje skrypty nie działają, zapoznaj się z [przewodnikiem po migracji modułu AzureRM](/powershell/azure/azurerm/migration-guide.6.0.0).</span><span class="sxs-lookup"><span data-stu-id="40346-117">If your scripts don't work, make sure to read the [AzureRM migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span>

## <a name="install-the-azure-powershell-az-module"></a><span data-ttu-id="40346-118">Instalowanie modułu Az programu Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="40346-118">Install the Azure PowerShell Az module</span></span>

<span data-ttu-id="40346-119">Pierwszym krokiem jest zainstalowanie modułu Az na Twojej platformie.</span><span class="sxs-lookup"><span data-stu-id="40346-119">The first step is to install the Az module on your platform.</span></span> <span data-ttu-id="40346-120">Po zainstalowaniu modułu Az zaleca się odinstalowanie modułu AzureRM.</span><span class="sxs-lookup"><span data-stu-id="40346-120">When you install Az, it's recommended that you uninstall AzureRM.</span></span> <span data-ttu-id="40346-121">W poniższych krokach opisano, co zrobić, aby istniejące skrypty nadal działały, i jak włączyć zgodność ze starymi nazwami poleceń cmdlet.</span><span class="sxs-lookup"><span data-stu-id="40346-121">In the following steps, you'll learn how to keep running your existing scripts and enable compatibility for old cmdlet names.</span></span>

<span data-ttu-id="40346-122">Aby zainstalować moduł Az programu Azure PowerShell, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="40346-122">To install the Azure PowerShell Az module, follow these steps:</span></span>

* <span data-ttu-id="40346-123">__ZALECANE__: [Odinstaluj moduł AzureRM](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span><span class="sxs-lookup"><span data-stu-id="40346-123">__RECOMMENDED__: [Uninstall the AzureRM module](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span></span>
  <span data-ttu-id="40346-124">Upewnij się, że usuwasz _wszystkie_ zainstalowane wersje modułu AzureRM, a nie tylko najnowszą.</span><span class="sxs-lookup"><span data-stu-id="40346-124">Make sure that you remove _all_ installed versions of AzureRM, not just the most recent version.</span></span>
* [<span data-ttu-id="40346-125">Zainstaluj moduł Az</span><span class="sxs-lookup"><span data-stu-id="40346-125">Install the Az module</span></span>](install-az-ps.md)

## <a name="a-namealiasesenable-azurerm-compatibility-aliases"></a><span data-ttu-id="40346-126"><a name="aliases"/>Włączanie aliasów zapewniających zgodność z modułem AzureRM</span><span class="sxs-lookup"><span data-stu-id="40346-126"><a name="aliases"/>Enable AzureRM compatibility aliases</span></span> 

> [!IMPORTANT]
>
> <span data-ttu-id="40346-127">Tryb zgodności włącz tylko wtedy, gdy zostały odinstalowane _wszystkie_ wersje modułu AzureRM.</span><span class="sxs-lookup"><span data-stu-id="40346-127">Only enable compatibility mode if you've uninstalled _all_ versions of AzureRM.</span></span> <span data-ttu-id="40346-128">Włączenie trybu zgodności, gdy polecenia cmdlet modułu AzureRM są nadal dostępne, może spowodować nieprzewidywalne zachowanie.</span><span class="sxs-lookup"><span data-stu-id="40346-128">Enabling compatibility mode with AzureRM cmdlets still available may result in unpredictable behavior.</span></span> <span data-ttu-id="40346-129">Pomiń ten krok, jeśli chcesz pozostawić zainstalowany moduł AzureRM, ale pamiętaj, że wszelkie polecenia cmdlet modułu AzureRM będą używać starszych modułów i nie będą wywoływać żadnych poleceń cmdlet modułu Az.</span><span class="sxs-lookup"><span data-stu-id="40346-129">Skip this step if you decided to keep AzureRM installed, but be aware that any AzureRM cmdlets will use the older modules and not call any Az cmdlets.</span></span>

<span data-ttu-id="40346-130">Po upewnieniu się, że skrypty działają z najnowszą wersją modułu AzureRM, i odinstalowaniu modułu AzureRM następny krok to włączenie trybu zgodności dla modułu Az.</span><span class="sxs-lookup"><span data-stu-id="40346-130">With AzureRM uninstalled and your scripts working with the latest AzureRM version, the next step is to enable the compatibility mode for the Az module.</span></span> <span data-ttu-id="40346-131">Zgodność należy włączyć za pomocą polecenia:</span><span class="sxs-lookup"><span data-stu-id="40346-131">Compatibility is enabled with the command:</span></span>

```powershell-interactive
Enable-AzureRmAlias -Scope CurrentUser
```

<span data-ttu-id="40346-132">Aliasy umożliwiają używanie starych nazw poleceń cmdlet po zainstalowaniu modułu Az.</span><span class="sxs-lookup"><span data-stu-id="40346-132">Aliases enable the ability to use old cmdlet names with the Az module installed.</span></span> <span data-ttu-id="40346-133">Te aliasy są wpisane w profil użytkownika dla wybranego zakresu.</span><span class="sxs-lookup"><span data-stu-id="40346-133">These aliases are written to the user profile for the selected scope.</span></span> <span data-ttu-id="40346-134">Jeśli profil użytkownika nie istnieje, jest on tworzony.</span><span class="sxs-lookup"><span data-stu-id="40346-134">If no user profile exists, one is created.</span></span>

> [!WARNING]
>
> <span data-ttu-id="40346-135">Dla tego polecenia możesz użyć innego parametru `-Scope`, ale nie jest to zalecane.</span><span class="sxs-lookup"><span data-stu-id="40346-135">You can use a different `-Scope` for this command, but it's not recommended.</span></span> <span data-ttu-id="40346-136">Aliasy są wpisane w profil użytkownika dla wybranego zakresu, dlatego włączaj je dla tak ograniczonego zakresu, jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="40346-136">Aliases are written to the user profile for the selected scope, so keep enabling them to as limited a scope as possible.</span></span> <span data-ttu-id="40346-137">Włączenie aliasów dla całego systemu może także spowodować problemy dla innych użytkowników, którzy mają zainstalowany moduł AzureRM w swoim zakresie lokalnym.</span><span class="sxs-lookup"><span data-stu-id="40346-137">Enabling aliases system-wide could also cause issues for other users which have AzureRM installed in their local scope.</span></span>

<span data-ttu-id="40346-138">Po włączeniu trybu aliasów ponownie uruchom skrypty, aby potwierdzić, że nadal działają zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="40346-138">Once the alias mode is enabled, run your scripts again to confirm that they still function as expected.</span></span> 

## <a name="change-module-imports-and-cmdlet-names"></a><span data-ttu-id="40346-139">Zmienianie importów modułu i nazw poleceń cmdlet</span><span class="sxs-lookup"><span data-stu-id="40346-139">Change module imports and cmdlet names</span></span>

<span data-ttu-id="40346-140">Ogólnie rzecz biorąc, nazwy modułu zostały zmienione tak, aby nazwy `AzureRM` i `Azure` stały się nazwą `Az` — to samo dotyczy poleceń cmdlet.</span><span class="sxs-lookup"><span data-stu-id="40346-140">In general, the module names have been changed so that `AzureRM` and `Azure` become `Az`, and the same for cmdlets.</span></span>
<span data-ttu-id="40346-141">Na przykład nazwa modułu `AzureRM.Compute` została zmieniona na `Az.Compute`.</span><span class="sxs-lookup"><span data-stu-id="40346-141">For example, the `AzureRM.Compute` module has been renamed to `Az.Compute`.</span></span> <span data-ttu-id="40346-142">Polecenie `New-AzureRMVM` stało się poleceniem `New-AzVM`, a polecenie `Get-AzureStorageBlob` to teraz polecenie `Get-AzStorageBlob`.</span><span class="sxs-lookup"><span data-stu-id="40346-142">`New-AzureRMVM` has become `New-AzVM`, and `Get-AzureStorageBlob` is now `Get-AzStorageBlob`.</span></span>

<span data-ttu-id="40346-143">Istnieją wyjątki od tej reguły zmiany nazw, o których należy wiedzieć.</span><span class="sxs-lookup"><span data-stu-id="40346-143">There are exceptions to this naming change that you should be aware of.</span></span> <span data-ttu-id="40346-144">Nazwy niektórych modułów zostały zmienione lub te moduły zostały scalone z istniejącymi modułami, przy czym nie miało to wpływu na sufiks ich poleceń cmdlet poza zmianą ciągu `AzureRM` lub `Azure` na `Az`.</span><span class="sxs-lookup"><span data-stu-id="40346-144">Some modules were renamed or merged into existing modules without this affecting the suffix of their cmdlets, other than changing `AzureRM` or `Azure` to `Az`.</span></span> <span data-ttu-id="40346-145">W pozostałych przypadkach pełny sufiks polecenia cmdlet został zmieniony, aby odzwierciedlić nową nazwę modułu.</span><span class="sxs-lookup"><span data-stu-id="40346-145">Otherwise, the full cmdlet suffix was changed to reflect the new module name.</span></span>

| <span data-ttu-id="40346-146">Moduł AzureRM</span><span class="sxs-lookup"><span data-stu-id="40346-146">AzureRM module</span></span> | <span data-ttu-id="40346-147">Moduł Az</span><span class="sxs-lookup"><span data-stu-id="40346-147">Az module</span></span> | <span data-ttu-id="40346-148">Czy sufiks poleceń cmdlet uległ zmianie?</span><span class="sxs-lookup"><span data-stu-id="40346-148">Cmdlet suffix changed?</span></span> |
|----------------|-----------|------------------------|
| <span data-ttu-id="40346-149">AzureRM.Profile</span><span class="sxs-lookup"><span data-stu-id="40346-149">AzureRM.Profile</span></span> | <span data-ttu-id="40346-150">Az.Accounts</span><span class="sxs-lookup"><span data-stu-id="40346-150">Az.Accounts</span></span> | <span data-ttu-id="40346-151">Yes</span><span class="sxs-lookup"><span data-stu-id="40346-151">Yes</span></span> |
| <span data-ttu-id="40346-152">AzureRM.Insights</span><span class="sxs-lookup"><span data-stu-id="40346-152">AzureRM.Insights</span></span> | <span data-ttu-id="40346-153">Az.Monitor</span><span class="sxs-lookup"><span data-stu-id="40346-153">Az.Monitor</span></span> | <span data-ttu-id="40346-154">Yes</span><span class="sxs-lookup"><span data-stu-id="40346-154">Yes</span></span> |
| <span data-ttu-id="40346-155">AzureRM.DataFactories</span><span class="sxs-lookup"><span data-stu-id="40346-155">AzureRM.DataFactories</span></span> | <span data-ttu-id="40346-156">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="40346-156">Az.DataFactory</span></span> | <span data-ttu-id="40346-157">Yes</span><span class="sxs-lookup"><span data-stu-id="40346-157">Yes</span></span> |
| <span data-ttu-id="40346-158">AzureRM.DataFactoryV2</span><span class="sxs-lookup"><span data-stu-id="40346-158">AzureRM.DataFactoryV2</span></span> | <span data-ttu-id="40346-159">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="40346-159">Az.DataFactory</span></span> | <span data-ttu-id="40346-160">Yes</span><span class="sxs-lookup"><span data-stu-id="40346-160">Yes</span></span> |
| <span data-ttu-id="40346-161">AzureRM.RecoveryServices.Backup</span><span class="sxs-lookup"><span data-stu-id="40346-161">AzureRM.RecoveryServices.Backup</span></span> | <span data-ttu-id="40346-162">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="40346-162">Az.RecoveryServices</span></span> | <span data-ttu-id="40346-163">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-163">No</span></span> |
| <span data-ttu-id="40346-164">AzureRM.RecoveryServices.SiteRecovery</span><span class="sxs-lookup"><span data-stu-id="40346-164">AzureRM.RecoveryServices.SiteRecovery</span></span> | <span data-ttu-id="40346-165">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="40346-165">Az.RecoveryServices</span></span> | <span data-ttu-id="40346-166">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-166">No</span></span> |
| <span data-ttu-id="40346-167">AzureRM.Tags</span><span class="sxs-lookup"><span data-stu-id="40346-167">AzureRM.Tags</span></span> | <span data-ttu-id="40346-168">Az.Resources</span><span class="sxs-lookup"><span data-stu-id="40346-168">Az.Resources</span></span> | <span data-ttu-id="40346-169">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-169">No</span></span> |
| <span data-ttu-id="40346-170">AzureRM.MachineLearningCompute</span><span class="sxs-lookup"><span data-stu-id="40346-170">AzureRM.MachineLearningCompute</span></span> | <span data-ttu-id="40346-171">Az.MachineLearning</span><span class="sxs-lookup"><span data-stu-id="40346-171">Az.MachineLearning</span></span> | <span data-ttu-id="40346-172">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-172">No</span></span> |
| <span data-ttu-id="40346-173">AzureRM.UsageAggregates</span><span class="sxs-lookup"><span data-stu-id="40346-173">AzureRM.UsageAggregates</span></span> | <span data-ttu-id="40346-174">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="40346-174">Az.Billing</span></span> | <span data-ttu-id="40346-175">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-175">No</span></span> |
| <span data-ttu-id="40346-176">AzureRM.Consumption</span><span class="sxs-lookup"><span data-stu-id="40346-176">AzureRM.Consumption</span></span> | <span data-ttu-id="40346-177">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="40346-177">Az.Billing</span></span> | <span data-ttu-id="40346-178">Nie</span><span class="sxs-lookup"><span data-stu-id="40346-178">No</span></span> |

## <a name="summary"></a><span data-ttu-id="40346-179">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="40346-179">Summary</span></span>

<span data-ttu-id="40346-180">Wykonując powyższe czynności, można zaktualizować wszystkie istniejące skrypty w celu korzystania z nowego modułu.</span><span class="sxs-lookup"><span data-stu-id="40346-180">By following these steps, you can update all of your existing scripts to use the new module.</span></span> <span data-ttu-id="40346-181">Jeśli masz jakiekolwiek pytania lub problemy dotyczące tych kroków, które utrudniały migrację, dodaj komentarz do tego artykułu, abyśmy mogli ulepszyć instrukcje.</span><span class="sxs-lookup"><span data-stu-id="40346-181">If you have any questions or problems with these steps that made your migration difficult, please comment on this article so that we can improve the instructions.</span></span>
