---
title: Migrowanie skryptów programu Azure PowerShell z modułu AzureRM do modułu Az
description: Poznaj procedury i narzędzia dotyczące migracji skryptów programu Azure PowerShell z modułu AzureRM do nowego modułu Az programu PowerShell.
ms.devlang: powershell
ms.service: azure-powershell
ms.topic: conceptual
ms.date: 12/1/2020
ms.custom: devx-track-azurepowershell
ms.openlocfilehash: bc37d0b73db0e6df226788795730730c077fcefa
ms.sourcegitcommit: 04221336bc9eed46c05ed1e828a6811534d4b4ab
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/08/2020
ms.locfileid: "96856784"
---
# <a name="migrate-azure-powershell-from-azurerm-to-az"></a><span data-ttu-id="6a670-103">Migrowanie programu Azure PowerShell z modułu AzureRM do modułu Az</span><span class="sxs-lookup"><span data-stu-id="6a670-103">Migrate Azure PowerShell from AzureRM to Az</span></span>

<span data-ttu-id="6a670-104">Wszystkie wersje modułu AzureRM programu PowerShell są nieaktualne.</span><span class="sxs-lookup"><span data-stu-id="6a670-104">All versions of the AzureRM PowerShell module are outdated.</span></span> <span data-ttu-id="6a670-105">[Moduł Az programu PowerShell](install-az-ps.md) jest obecnie zalecanym modułem programu PowerShell na potrzeby interakcji z platformą Azure.</span><span class="sxs-lookup"><span data-stu-id="6a670-105">The [Az PowerShell module](install-az-ps.md) is now the recommended PowerShell module for interacting with Azure.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="6a670-106">Dlaczego wprowadzamy nowy moduł?</span><span class="sxs-lookup"><span data-stu-id="6a670-106">Why a new module?</span></span>

<span data-ttu-id="6a670-107">Największa i najważniejsza zmiana wiąże się z tym, że program [PowerShell](/powershell/scripting/overview) oparty na bibliotece .NET Standard stał się produktem dla wielu platform od czasu jego wprowadzenia.</span><span class="sxs-lookup"><span data-stu-id="6a670-107">The biggest and most important change is that [PowerShell](/powershell/scripting/overview), being based on the .NET Standard library, has been a cross-platform product since its introduction.</span></span>

<span data-ttu-id="6a670-108">Podobnie jak w przypadku języka programu PowerShell, dążymy do tego, aby pomoc techniczna platformy Azure była możliwa na wszystkich platformach.</span><span class="sxs-lookup"><span data-stu-id="6a670-108">Like the PowerShell language, we're committed to bringing Azure support to all platforms.</span></span> <span data-ttu-id="6a670-109">Nasze zobowiązanie oznaczało konieczność aktualizacji modułów programu Azure PowerShell, aby korzystały z biblioteki .NET Standard i były zgodne z programem PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="6a670-109">Our commitment meant that the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell Core.</span></span> <span data-ttu-id="6a670-110">Zamiast modyfikować istniejący moduł AzureRM i wprowadzać złożone zmiany w celu dodania tej obsługi, utworzyliśmy moduł Az.</span><span class="sxs-lookup"><span data-stu-id="6a670-110">Rather than modifying the existing AzureRM module and introducing complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="6a670-111">Ponadto utworzenie nowego modułu pozwoliło naszym inżynierom na uspójnienie projektu, nazw poleceń cmdlet oraz modułów.</span><span class="sxs-lookup"><span data-stu-id="6a670-111">Creating a new module also allowed our engineers to make the design, naming of cmdlets, and modules consistent.</span></span> <span data-ttu-id="6a670-112">Wszystkie moduły rozpoczynają się teraz prefiksem `Az.`, a wszystkie polecenia cmdlet używają konwencji nazewnictwa `Verb-AzNoun`.</span><span class="sxs-lookup"><span data-stu-id="6a670-112">All modules now start with the `Az.` prefix and cmdlets all use the `Verb-AzNoun` naming convention.</span></span> <span data-ttu-id="6a670-113">Wcześniej nazwy poleceń cmdlet były dłuższe i niespójne.</span><span class="sxs-lookup"><span data-stu-id="6a670-113">Previously, cmdlet names were longer and inconsistent.</span></span>

<span data-ttu-id="6a670-114">Zmniejszona została również liczba modułów: Niektóre moduły, które działały z tymi samymi usługami, zostały połączone.</span><span class="sxs-lookup"><span data-stu-id="6a670-114">The number of modules were also reduced: Some modules that worked with the same services have been combined.</span></span> <span data-ttu-id="6a670-115">Polecenia cmdlet płaszczyzny zarządzania i płaszczyzny danych w ramach tej samej usługi są teraz zawarte w pojedynczym module.</span><span class="sxs-lookup"><span data-stu-id="6a670-115">Management plane and data plane cmdlets for the same service are now contained within a single module.</span></span> <span data-ttu-id="6a670-116">Ta konsolidacja znacznie upraszcza pracę osobom, które ręcznie zarządzają zależnościami i importowaniem.</span><span class="sxs-lookup"><span data-stu-id="6a670-116">For those of you who manually manage dependencies and imports, this consolidation makes things much simpler.</span></span>

<span data-ttu-id="6a670-117">Wprowadzając te istotne zmiany, zespół zobowiązał się do uproszczenia korzystania z platformy Azure za pomocą poleceń cmdlet programu PowerShell oraz zapewnienia obsługi na jak największej liczbie platform niż kiedykolwiek wcześniej.</span><span class="sxs-lookup"><span data-stu-id="6a670-117">By making these important changes, the team has committed to making it easier than ever before and on more platforms than previously possible to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrading-to-az-powershell"></a><span data-ttu-id="6a670-118">Uaktualnianie do modułu Az programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="6a670-118">Upgrading to Az PowerShell</span></span>

<span data-ttu-id="6a670-119">Skrypty napisane dla poleceń cmdlet modułu AzureRM nie będą automatycznie działać z modułem Az.</span><span class="sxs-lookup"><span data-stu-id="6a670-119">Scripts written for the AzureRM cmdlets won't automatically work with Az.</span></span> <span data-ttu-id="6a670-120">Aby ułatwić przeniesienie, opracowano [zestaw narzędzi do migracji modułu AzureRM do Az](https://github.com/Azure/azure-powershell-migration).</span><span class="sxs-lookup"><span data-stu-id="6a670-120">To make the transition easier, the [AzureRM to Az migration toolkit](https://github.com/Azure/azure-powershell-migration) was developed.</span></span> <span data-ttu-id="6a670-121">Każda migracja do nowego zestawu poleceń jest kłopotliwa, jednak ten artykuł pomoże Ci rozpocząć przejście do modułu Az programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6a670-121">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the Az PowerShell module.</span></span> <span data-ttu-id="6a670-122">Aby dowiedzieć się więcej na temat przyczyn utworzenia modułu Az programu PowerShell, zobacz [Wprowadzenie do nowego modułu Az usługi Azure PowerShell](new-azureps-module-az.md).</span><span class="sxs-lookup"><span data-stu-id="6a670-122">To learn more about why the Az PowerShell module was created, see [Introducing the new Azure PowerShell Az module](new-azureps-module-az.md).</span></span>

<span data-ttu-id="6a670-123">Nowe nazwy poleceń cmdlet zaprojektowano tak, aby były łatwe do zapamiętania.</span><span class="sxs-lookup"><span data-stu-id="6a670-123">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="6a670-124">Zamiast używać ciągu `AzureRm` lub `Azure` w nazwach poleceń cmdlet, wystarczy użyć ciągu `Az`.</span><span class="sxs-lookup"><span data-stu-id="6a670-124">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="6a670-125">Na przykład stare polecenie cmdlet `New-AzureRMVm` to teraz polecenie `New-AzVm`.</span><span class="sxs-lookup"><span data-stu-id="6a670-125">For example, the old cmdlet `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="6a670-126">Jednak migracja to coś więcej, niż tylko zapoznanie się z nowymi nazwami poleceń cmdlet.</span><span class="sxs-lookup"><span data-stu-id="6a670-126">However, migration is more than just becoming familiar with the new cmdlet names, though.</span></span> <span data-ttu-id="6a670-127">Zmieniono nazwy modułów i parametrów oraz wprowadzono inne ważne zmiany.</span><span class="sxs-lookup"><span data-stu-id="6a670-127">There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="6a670-128">Aby wyświetlić pełną listę zmian powodujących niezgodność między modułami AzureRM i Az, zobacz [wszystkie różnice między modułem AzureRM i Az](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="6a670-128">To see the full list of breaking changes between AzureRM and Az, see the [full changes from AzureRM to Az](migrate-az-1.0.0.md).</span></span>

## <a name="ensure-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="6a670-129">Upewnianie się, że istniejące skrypty działają z najnowszą wersją modułu AzureRM</span><span class="sxs-lookup"><span data-stu-id="6a670-129">Ensure existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="6a670-130">Przed wykonaniem jakichkolwiek kroków związanych z migracją sprawdź, które wersje modułu AzureRM są zainstalowane w systemie.</span><span class="sxs-lookup"><span data-stu-id="6a670-130">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span>
<span data-ttu-id="6a670-131">Dzięki temu możesz się upewnić, że skrypty są już uruchamiane w najnowszej wersji, i dowiedzieć, które wersje modułu AzureRM muszą zostać odinstalowane.</span><span class="sxs-lookup"><span data-stu-id="6a670-131">Doing so allows you to make sure scripts are already running on the latest release and let you know which versions of AzureRM must be uninstalled.</span></span>

<span data-ttu-id="6a670-132">Aby sprawdzić, które wersje modułu AzureRM są zainstalowane, uruchom następujący przykład:</span><span class="sxs-lookup"><span data-stu-id="6a670-132">To check which version(s) of AzureRM you have installed, run the following example:</span></span>

```azurepowershell
Get-Module -Name AzureRM -ListAvailable -All
```

<span data-ttu-id="6a670-133">**Najnowszą** dostępną wersją modułu AzureRM jest wersja **6.13.1**.</span><span class="sxs-lookup"><span data-stu-id="6a670-133">The **latest** available release of AzureRM is **6.13.1**.</span></span> <span data-ttu-id="6a670-134">Jeśli ta wersja nie jest zainstalowana, może być konieczne dodatkowe zmodyfikowanie istniejących skryptów, aby działały z modułem Az, w sposób wykraczający poza zakres opisany w tym artykule i na [liście zmian powodujących niezgodność](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="6a670-134">If you don't have this version installed, your existing scripts may need additional modifications to work with the Az module beyond the scope of what's described in this article and in the [breaking changes list](migrate-az-1.0.0.md).</span></span>

<span data-ttu-id="6a670-135">Jeśli skrypty nie działają z wersją 6.13.1 modułu AzureRM, zaktualizuj je zgodnie z [przewodnikiem migracji modułu AzureRM z wersji 5.x do wersji 6.x](/powershell/azure/azurerm/migration-guide.6.0.0).</span><span class="sxs-lookup"><span data-stu-id="6a670-135">If your scripts don't work with AzureRM 6.13.1, update them according to the [AzureRM 5.x to 6.x migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span> <span data-ttu-id="6a670-136">Jeśli używasz wcześniejszej wersji modułu AzureRM, dostępne są przewodniki migracji dla wszystkich wersji głównych.</span><span class="sxs-lookup"><span data-stu-id="6a670-136">If you use an earlier version of the AzureRM module, there are migration guides available for each major version.</span></span>

## <a name="option-1-recommended-automatically-migrate-your-powershell-scripts"></a><span data-ttu-id="6a670-137">Opcja 1 (zalecana): Automatyczna migracja skryptów programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="6a670-137">Option 1 (recommended): Automatically migrate your PowerShell scripts</span></span>

<span data-ttu-id="6a670-138">Ta zalecana opcja minimalizuje nakład pracy wymagany do migracji skryptów modułu AzureRM do modułu Az.</span><span class="sxs-lookup"><span data-stu-id="6a670-138">This recommended option minimizes the effort required to migrate AzureRM scripts to Az.</span></span>

### <a name="install-the-azurerm-to-az-migration-toolkit"></a><span data-ttu-id="6a670-139">Instalowanie zestawu narzędzi do migracji modułu AzureRM do Az</span><span class="sxs-lookup"><span data-stu-id="6a670-139">Install the AzureRM to Az migration toolkit</span></span>

```azurepowershell
Install-Module -Name Az.Tools.Migration
```

### <a name="convert-your-scripts-automatically"></a><span data-ttu-id="6a670-140">Automatyczne konwertowanie skryptów</span><span class="sxs-lookup"><span data-stu-id="6a670-140">Convert your scripts automatically</span></span>

<span data-ttu-id="6a670-141">Za pomocą zestawu narzędzi do migracji modułu AzureRM do Az można wygenerować plan określający, jakie zmiany zostaną wykonane w skryptach przed wprowadzeniem jakichkolwiek modyfikacji i przed zainstalowaniem modułu Az programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6a670-141">With the AzureRM to Az migration toolkit, you can generate a plan to determine what changes will be performed on your scripts before making any modifications to them and before installing the Az PowerShell module.</span></span>

<span data-ttu-id="6a670-142">Przewodnik Szybki start [Automatyczne migrowanie skryptów programu PowerShell z modułu AzureRM do Az programu PowerShell](quickstart-migrate-azurerm-to-az-automatically.md) przeprowadzi Cię przez cały proces automatycznego aktualizowania skryptów programu PowerShell z modułu AzureRM do Az programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6a670-142">The [Automatically migrate PowerShell scripts from AzureRM to the Az PowerShell module](quickstart-migrate-azurerm-to-az-automatically.md) quickstart walks you through the entire process of automatically updating your PowerShell scripts from AzureRM to the Az PowerShell module.</span></span>

## <a name="option-2-use-compatibility-mode-with-enable-azurermalias"></a><span data-ttu-id="6a670-143">Opcja 2: Użycie trybu zgodności za pomocą polecenia Enable-AzureRmAlias</span><span class="sxs-lookup"><span data-stu-id="6a670-143">Option 2: Use compatibility mode with Enable-AzureRmAlias</span></span>

<span data-ttu-id="6a670-144">Moduł Az oferuje tryb zgodności, który ułatwia korzystanie z istniejących skryptów podczas pracy nad aktualizacjami do nowej składni.</span><span class="sxs-lookup"><span data-stu-id="6a670-144">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="6a670-145">Polecenie cmdlet [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) włącza tryb zgodności przy użyciu aliasów.</span><span class="sxs-lookup"><span data-stu-id="6a670-145">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases.</span></span> <span data-ttu-id="6a670-146">Ten tryb pozwala na użycie istniejących skryptów z minimalnymi zmianami podczas pracy nad pełną migracją do modułu Az.</span><span class="sxs-lookup"><span data-stu-id="6a670-146">This mode allows you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span> <span data-ttu-id="6a670-147">Domyślnie polecenie `Enable-AzureRmAlias` włącza tylko aliasy zgodności dla bieżącej sesji programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6a670-147">By default, `Enable-AzureRmAlias` only enables compatibility aliases for the current PowerShell session.</span></span> <span data-ttu-id="6a670-148">Użyj parametru `Scope`, aby zachować aliasy zgodności między sesjami programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6a670-148">Use its `Scope` parameter to persist compatibility aliases across PowerShell sessions.</span></span> <span data-ttu-id="6a670-149">Aby uzyskać więcej informacji, zobacz [dokumentację dotyczącą polecenia Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias).</span><span class="sxs-lookup"><span data-stu-id="6a670-149">For more information, see [the Enable-AzureRmAlias reference documentation](/powershell/module/az.accounts/enable-azurermalias).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6a670-150">Chociaż dostępne są aliasy dla nazw poleceń cmdlet, w przypadku poleceń cmdlet modułu Az mogły zostać dodane (lub zmienione) parametry albo zmienione wartości zwracane.</span><span class="sxs-lookup"><span data-stu-id="6a670-150">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="6a670-151">Nie oczekuj, że włączenie aliasów rozwiąże problem migracji za Ciebie.</span><span class="sxs-lookup"><span data-stu-id="6a670-151">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="6a670-152">Zobacz [pełną listę zmian powodujących niezgodność](migrate-az-1.0.0.md), aby dowiedzieć się, w których miejscach skryptów trzeba wprowadzić aktualizacje.</span><span class="sxs-lookup"><span data-stu-id="6a670-152">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="option-3-migrate-your-scripts-in-visual-studio-code-with-the-azure-powershell-extension"></a><span data-ttu-id="6a670-153">Opcja 3: Migrowanie skryptów w programie Visual Studio Code za pomocą rozszerzenia programu Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="6a670-153">Option 3: Migrate your scripts in Visual Studio Code with the Azure PowerShell extension</span></span>

### <a name="install-the-azure-powershell-extension-for-visual-studio-code"></a><span data-ttu-id="6a670-154">Instalowanie rozszerzenia programu Azure PowerShell dla programu Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="6a670-154">Install the Azure PowerShell extension for Visual Studio Code</span></span>

<span data-ttu-id="6a670-155">Zainstaluj [rozszerzenie programu Azure PowerShell dla programu VSCode](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools)</span><span class="sxs-lookup"><span data-stu-id="6a670-155">Install the [Azure PowerShell extension for VSCode](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools)</span></span>

### <a name="convert-your-scripts-manually"></a><span data-ttu-id="6a670-156">Ręczne konwertowanie skryptów</span><span class="sxs-lookup"><span data-stu-id="6a670-156">Convert your scripts manually</span></span>

1. <span data-ttu-id="6a670-157">Załaduj skrypt modułu AzureRM do programu VSCode</span><span class="sxs-lookup"><span data-stu-id="6a670-157">Load your AzureRM script in VSCode</span></span>
2. <span data-ttu-id="6a670-158">Rozpocznij migrację, otwierając paletę poleceń `Ctrl+Shift+P` i wybierz polecenie `Migrate Azure PowerShell script`</span><span class="sxs-lookup"><span data-stu-id="6a670-158">Start the migration by opening the command palette `Ctrl+Shift+P` and select `Migrate Azure PowerShell script`</span></span>
3. <span data-ttu-id="6a670-159">Wybierz wersję źródłową `AzureRM`</span><span class="sxs-lookup"><span data-stu-id="6a670-159">Select source version `AzureRM`</span></span>
4. <span data-ttu-id="6a670-160">Postępuj zgodnie z zalecanymi akcjami dla każdego podkreślonego polecenia lub parametru.</span><span class="sxs-lookup"><span data-stu-id="6a670-160">Follow the recommended actions for each underlined command or parameter.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6a670-161">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="6a670-161">Next steps</span></span>

<span data-ttu-id="6a670-162">[Odinstalowywanie modułu AzureRM](uninstall-az-ps.md#uninstall-the-azurerm-module)
[Instalowanie programu Azure PowerShell](install-az-ps.md)</span><span class="sxs-lookup"><span data-stu-id="6a670-162">[Uninstall AzureRM](uninstall-az-ps.md#uninstall-the-azurerm-module)
[Install Azure PowerShell](install-az-ps.md)</span></span>
