---
external help file: Microsoft.WindowsAzure.Commands.ServiceManagement.dll-Help.xml
ms.assetid: FDA81DCB-04A4-44E5-89CD-3C36F9BB6FA9
online version: ''
schema: 2.0.0
ms.openlocfilehash: 47ae6d45fd2043d394fa7884863a3235eaa0f8d5
ms.sourcegitcommit: 56ed085a868afa8263f8eb0f755b5822f5c29532
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/18/2020
ms.locfileid: "94054758"
---
# Set-AzureVMMicrosoftAntimalwareExtension

## STRESZCZENIe
Konfiguruje rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem na maszynie wirtualnej.

## POLECENIA

### EnableMicrosoftAntimalwareExtensionJsonConfigFilePath (domyślny)
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfigFile] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### EnableMicrosoftAntimalwareExtensionJsonConfig
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfiguration] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### DisableMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [[-Version] <String>] [-Disable] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### UninstallMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [-Uninstall] -VM <IPersistentVM> [-Profile <AzureSMProfile>]
 [-InformationAction <ActionPreference>] [-InformationVariable <String>] [<CommonParameters>]
```

### ConfigureMicrosoftAntimalwareMonitoring
```
Set-AzureVMMicrosoftAntimalwareExtension [-Monitoring] <String> [[-StorageContext] <AzureStorageContext>]
 [-NoConfig] -VM <IPersistentVM> [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>]
 [-InformationVariable <String>] [<CommonParameters>]
```

## Opis
Polecenie cmdlet **Set-AzureVMMicrosoftAntimalwareExtension** konfiguruje rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem dla maszyny wirtualnej.
Rozszerzenie można włączać, wyłączać lub odinstalowywać.

## Przykłady

### Przykład 1. Włączanie rozszerzenia przy użyciu pliku konfiguracji
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json' | Update-AzureVM
```

To polecenie włącza rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem przy użyciu pliku konfiguracji.
W poleceniu użyto polecenia cmdlet **Get-AzureVM** w celu uzyskania określonego obiektu maszyny wirtualnej, a następnie przekazanie obiektu do bieżącego polecenia cmdlet za pomocą operatora potoku.

### Przykład 2: Włączenie rozszerzenia i włączenie monitorowania
```
PS C:\> $StorageContext = New-AzureStorageContext -StorageAccountName "contosostoragemain" -StorageAccountKey (Get-AzureStorageKey -StorageAccountName "Contosostoragemain").PrimaryP
S C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json" -Monitoring ON -StorageContext $StorageContext | Update-AzureVM
```

Pierwsze polecenie tworzy obiekt AzureStorageContext przy użyciu polecenia cmdlet **New-AzureStorageContext** , a następnie zapisuje go w zmiennej $StorageContext.

### Przykład 3: Włączanie rozszerzenia przez określenie obiektu konfiguracji
```
PS C:\> $Config_String = [IO.File]::ReadAllText('C:\configuration\contosoVM.json')
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfiguration $Config_String | Update-AzureVM
```

Pierwsze polecenie tworzy obiekt String, odczytując konfigurację JSON dla rozszerzenia Microsoft chroniącego przed złośliwym oprogramowaniem, a następnie zapisując ją w $config zmiennej _string.

### Przykład 4: wyłączenie rozszerzenia
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Disable | Update-AzureVM
```

To polecenie powoduje wyłączenie rozszerzenia bez usuwania go.
Polecenie używa Get-AzureVM w celu uzyskania określonego obiektu maszyny wirtualnej, a następnie przekazuje obiekt do bieżącego polecenia cmdlet.

### Przykład 5: Usuwanie rozszerzenia
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Uninstall | Update-AzureVM
```

To polecenie usuwa rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem z maszyny wirtualnej.
Polecenie używa Get-AzureVM w celu uzyskania określonego obiektu maszyny wirtualnej, a następnie przekazuje obiekt do bieżącego polecenia cmdlet.

## PARAMETRÓW

### -AntimalwareConfigFile
Określa ścieżkę absolutną pliku konfiguracji ochrony przed złośliwym oprogramowaniem firmy Microsoft.
Nie określaj tego parametru, jeśli określisz parametr AntimalwareConfiguration.
Aby można było włączyć rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem, plik konfiguracji musi zawierać co najmniej następującą zawartość: 

`{ "AntimalwareEnabled": true }`

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -AntimalwareConfiguration
Określa obiekt String, który zawiera konfigurację programu Microsoft chroniąca przed złośliwym oprogramowaniem.
Ten obiekt nie może być $Null ani pusty.
Nie określaj tego parametru, jeśli określisz parametr AntimalwareConfigFile.
Obiekt konfiguracji musi zawierać co najmniej następującą zawartość, aby włączyć rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem: * * * * {"AntimalwareEnabled": prawda}

Przykład konfiguracji kodu JSON programu Microsoft ochrony przed złośliwym oprogramowaniem: 

{"AntimalwareEnabled": prawda; "RealtimeProtectionEnabled": prawda; "ScheduledScanSettings": {"isEnabled": prawda; "dzień": 1; "czas": 120, "ScanType":

"Wykluczenia": {"rozszerzenia": ". EXT1;. ext2 "," ścieżki ":" c:\excluded-Path-1; c:\excluded-Path-2 "," procesy ":" excludedproc1.exe; excludedproc2.exe "}

}

Uwagi: AntimalwareEnabled jest wymaganym parametrem.
Wartości: prawda = Włącz.
FAŁSZ = błąd jako FAŁSZ nie jest obsługiwaną wartością

RealtimeProtectionEnabled: PRAWDA/FAŁSZ. true = Enable.
false = Wyłącz.
Wartość domyślna to prawda

ScheduledScanSettings:  
isEnabled = prawda/fałsz dnia = 0 – 8 (0 – 7), 1-niedziela, 2-poniedziałek,...., 7-Sobota, 8-wyłączona) czas = 0 – 1440 (wartość mierzona w minutach po północy-60- \> 1AM, 120- \> 2AM;...) ScanType = "Quick" lub "Full" (domyślnie szybka) Uwaga: Jeśli IsEnabled = true jest jedynym udostępnionym ustawieniem, są ustawiane następujące ustawienia domyślne: Day = 7 (sobota), Time = 120 (2 am), ScanType = "szybkie" wykluczenia: wielokrotne wykluczenia z tej samej listy są określone za pomocą ograniczników średnika.

Jeśli nie zostaną określone żadne wykluczenia, istniejące wykluczenia (jeśli istnieją) są zastępowane przez puste miejsca w systemie.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Disable
Wskazuje, że polecenie cmdlet wyłącza rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem.
Aby ponownie włączyć rozszerzenie na tej samej maszynie wirtualnej, uruchom Set-AzureVMMicrosoftAntimalwareExtension bez parametru Disable (Wyłącz).

```yaml
Type: SwitchParameter
Parameter Sets: DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -InformationAction
Określa, jak to polecenie cmdlet reaguje na zdarzenie informacyjne.

Dopuszczalne wartości tego parametru to:

- Kontynuacj
- Ignorować
- Inquire
- SilentlyContinue
- Przestaw
- Wykonywanie

```yaml
Type: ActionPreference
Parameter Sets: (All)
Aliases: infa

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -InformationVariable
Określa zmienną informacyjną.

```yaml
Type: String
Parameter Sets: (All)
Aliases: iv

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Monitorowanie
Określa, czy mają być zbierane zdarzenia dotyczące złośliwego oprogramowania firmy Microsoft.

Dopuszczalne wartości tego parametru to:

- Podczas.
Zbierz zdarzenia programu Microsoft chroniące przed złośliwym kodem do kontekstu magazynu. 
- Start.
Nie Zbieraj zdarzeń Microsoft chroniących przed złośliwym oprogramowaniem.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: False
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

```yaml
Type: String
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Noconfig
Wskazuje, że to polecenie cmdlet określa opcję noconfig.

```yaml
Type: SwitchParameter
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Profile
Określa Profil platformy Azure, na podstawie którego jest odczytywane to polecenie cmdlet.
Jeśli nie podano profilu, to polecenie cmdlet odczytuje lokalny profil domyślny.

```yaml
Type: AzureSMProfile
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -StorageContext
Określa kontekst usługi Azure Storage dla funkcji monitorowania złośliwego oprogramowania firmy Microsoft.

```yaml
Type: AzureStorageContext
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: False
Position: 4
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### — Odinstalowywanie
Wskazuje, że to polecenie cmdlet Odinstalowuje rozszerzenie Microsoft chroniące przed złośliwym oprogramowaniem z maszyny wirtualnej.
Jeśli monitorowanie było włączone, polecenie cmdlet usuwa również kolekcję zdarzeń ochrony przed złośliwym oprogramowaniem firmy Microsoft.

```yaml
Type: SwitchParameter
Parameter Sets: UninstallMicrosoftAntimalwareExtension
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Version
Określa wersję rozszerzenia jako ciąg. Uwaga: obsługiwana wersja to 1,5. Starsze wersje nie są obsługiwane przez firmę Microsoft.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -VM
Umożliwia określenie maszyny wirtualnej jako obiektu IPersistentVM.

```yaml
Type: IPersistentVM
Parameter Sets: (All)
Aliases: InputObject

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: False
```

### CommonParameters
To polecenie cmdlet obsługuje typowe parametry:-Debug,-ErrorAction,-ErrorVariable,-InformationAction,-InformationVariable,-unvariable,-subbuffer,-PipelineVariable,-verbose,-WarningAction i-WarningVariable. Aby uzyskać więcej informacji, zobacz about_CommonParameters ( https://go.microsoft.com/fwlink/?LinkID=113216) .

## WEJŚCIOWE

## WYSYŁA

## INFORMACYJN

## LINKI POKREWNE

[Get-AzureVMMicrosoftAntimalwareExtension](./Get-AzureVMMicrosoftAntimalwareExtension.md)

[Remove-AzureVMMicrosoftAntimalwareExtension](./Remove-AzureVMMicrosoftAntimalwareExtension.md)

[Get-AzureVM](./Get-AzureVM.md)


